Sep-30 16:25:00.006 [main] DEBUG nextflow.cli.Launcher - $> nextflow -log run_1.log run main.nf -profile docker --input /fs5/p_masi/fitbir/example_datasets/example_nextflow/site-1 -resume
Sep-30 16:25:00.241 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 24.10.4
Sep-30 16:25:00.258 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/workspaces/.nextflow/plugins; core-plugins: nf-amazon@2.9.2,nf-azure@1.10.2,nf-cloudcache@0.4.2,nf-codecommit@0.2.2,nf-console@1.1.4,nf-google@1.15.3,nf-tower@1.9.3,nf-wave@1.7.4
Sep-30 16:25:00.278 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Sep-30 16:25:00.279 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Sep-30 16:25:00.282 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Sep-30 16:25:00.293 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Sep-30 16:25:00.312 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /workspaces/nf-neuro-fitbir/nextflow.config
Sep-30 16:25:00.314 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /workspaces/nf-neuro-fitbir/nextflow.config
Sep-30 16:25:00.336 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /workspaces/.nextflow/secrets/store.json
Sep-30 16:25:00.340 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@65e7f52a] - activable => nextflow.secret.LocalSecretsProvider@65e7f52a
Sep-30 16:25:00.352 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Sep-30 16:25:01.209 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [slurm, debug, mamba, apptainer, no_symlink, conda, singularity, docker]
Sep-30 16:25:01.249 [main] DEBUG nextflow.cli.CmdRun - Enabling module binaries
Sep-30 16:25:01.253 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Sep-30 16:25:01.268 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [prickly_mestorf] DSL2 - revision: a57897e510
Sep-30 16:25:01.269 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Sep-30 16:25:01.269 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Sep-30 16:25:01.315 [main] DEBUG nextflow.Session - Session UUID: 7c7e535f-735d-4aaf-9989-6aab9951195a
Sep-30 16:25:01.316 [main] DEBUG nextflow.Session - Run name: prickly_mestorf
Sep-30 16:25:01.316 [main] DEBUG nextflow.Session - Executor pool size: 20
Sep-30 16:25:01.324 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Sep-30 16:25:01.329 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=60; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Sep-30 16:25:01.347 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 24.10.4 build 5934
  Created: 20-01-2025 16:47 UTC 
  System: Linux 6.8.0-60-generic
  Runtime: Groovy 4.0.23 on OpenJDK 64-Bit Server VM 17.0.15-internal+0-adhoc..src
  Encoding: UTF-8 (ANSI_X3.4-1968)
  Process: 30613@d36a0ccaa757 [172.17.0.2]
  CPUs: 20 - Mem: 62.5 GB (21.5 GB) - Swap: 2 GB (38.6 MB)
Sep-30 16:25:01.421 [main] DEBUG nextflow.Session - Work-dir: /fs5/p_masi/fitbir/example_datasets/example_nextflow/work [nfs]
Sep-30 16:25:01.422 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /workspaces/nf-neuro-fitbir/bin
Sep-30 16:25:01.431 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Sep-30 16:25:01.439 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Sep-30 16:25:01.488 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Sep-30 16:25:01.498 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 21; maxThreads: 1000
Sep-30 16:25:01.616 [main] DEBUG nextflow.Session - Session start
Sep-30 16:25:01.621 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow started -- trace file: /fs5/p_masi/fitbir/example_datasets/example_nextflow/outputs/pipeline_info/execution_trace_2025-09-30_16-25-01.txt
Sep-30 16:25:01.917 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Sep-30 16:25:03.993 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single` for process with name IO_BIDS:IO_READBIDS
Sep-30 16:25:03.995 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:IO_READBIDS` matches process IO_BIDS:IO_READBIDS
Sep-30 16:25:04.005 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.006 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.011 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Sep-30 16:25:04.015 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=20; memory=62.5 GB; capacity=20; pollInterval=100ms; dumpInterval=5m
Sep-30 16:25:04.017 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Sep-30 16:25:04.123 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_medium` matches labels `process_medium,process_high_memory` for process with name PREPROC_T1:PREPROC_N4
Sep-30 16:25:04.123 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_high_memory` matches labels `process_medium,process_high_memory` for process with name PREPROC_T1:PREPROC_N4
Sep-30 16:25:04.124 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:PREPROC_N4` matches process PREPROC_T1:PREPROC_N4
Sep-30 16:25:04.129 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.129 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.147 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single,process_high_memory` for process with name PREPROC_T1:IMAGE_RESAMPLE
Sep-30 16:25:04.149 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_high_memory` matches labels `process_single,process_high_memory` for process with name PREPROC_T1:IMAGE_RESAMPLE
Sep-30 16:25:04.150 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:IMAGE_RESAMPLE` matches process PREPROC_T1:IMAGE_RESAMPLE
Sep-30 16:25:04.154 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.154 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.171 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_medium` matches labels `process_medium` for process with name PREPROC_T1:BETCROP_SYNTHBET
Sep-30 16:25:04.171 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:BETCROP_SYNTHBET` matches process PREPROC_T1:BETCROP_SYNTHBET
Sep-30 16:25:04.174 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.174 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.204 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_high_memory` matches labels `process_high_memory` for process with name SEGMENTATION_SYNTHSEG
Sep-30 16:25:04.205 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SEGMENTATION_SYNTHSEG` matches process SEGMENTATION_SYNTHSEG
Sep-30 16:25:04.208 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.208 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.220 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single,process_high_memory` for process with name IMAGE_RESAMPLE
Sep-30 16:25:04.220 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_high_memory` matches labels `process_single,process_high_memory` for process with name IMAGE_RESAMPLE
Sep-30 16:25:04.222 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:IMAGE_RESAMPLE` matches process IMAGE_RESAMPLE
Sep-30 16:25:04.224 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.224 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.232 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single` for process with name UTILS_EXTRACTB0
Sep-30 16:25:04.233 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:UTILS_EXTRACTB0` matches process UTILS_EXTRACTB0
Sep-30 16:25:04.235 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.235 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.243 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_medium` matches labels `process_medium` for process with name BETCROP_SYNTHBET
Sep-30 16:25:04.244 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:BETCROP_SYNTHBET` matches process BETCROP_SYNTHBET
Sep-30 16:25:04.246 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.246 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.271 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_high` matches labels `process_high` for process with name REGISTRATION_ANTS
Sep-30 16:25:04.272 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:REGISTRATION_ANTS` matches process REGISTRATION_ANTS
Sep-30 16:25:04.276 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.277 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.290 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_low` matches labels `process_low` for process with name REGISTRATION_ANTSAPPLYTRANSFORMS_mask
Sep-30 16:25:04.291 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:REGISTRATION_ANTSAPPLYTRANSFORMS*` matches process REGISTRATION_ANTSAPPLYTRANSFORMS_mask
Sep-30 16:25:04.294 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.294 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.303 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_low` matches labels `process_low` for process with name REGISTRATION_ANTSAPPLYTRANSFORMS_wm
Sep-30 16:25:04.303 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:REGISTRATION_ANTSAPPLYTRANSFORMS*` matches process REGISTRATION_ANTSAPPLYTRANSFORMS_wm
Sep-30 16:25:04.305 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.306 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.319 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_medium` matches labels `process_medium` for process with name RECONST_FREEWATER
Sep-30 16:25:04.320 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RECONST_FREEWATER` matches process RECONST_FREEWATER
Sep-30 16:25:04.323 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.323 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.357 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_low` matches labels `process_low` for process with name RECONST_DTIMETRICS
Sep-30 16:25:04.358 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RECONST_DTIMETRICS` matches process RECONST_DTIMETRICS
Sep-30 16:25:04.363 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.363 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.385 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_low` matches labels `process_low` for process with name RECONST_FRF
Sep-30 16:25:04.386 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RECONST_FRF` matches process RECONST_FRF
Sep-30 16:25:04.389 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.390 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.415 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_high` matches labels `process_high` for process with name RECONST_FODF
Sep-30 16:25:04.416 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:RECONST_FODF` matches process RECONST_FODF
Sep-30 16:25:04.420 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.421 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.430 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single` for process with name ML_BUNDLEPARC
Sep-30 16:25:04.431 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:ML_BUNDLEPARC` matches process ML_BUNDLEPARC
Sep-30 16:25:04.433 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.433 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.452 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single` for process with name STATS_METRICSINROI
Sep-30 16:25:04.453 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:STATS_METRICSINROI` matches process STATS_METRICSINROI
Sep-30 16:25:04.454 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.454 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.459 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:process_single` matches labels `process_single` for process with name STATS_VOLUME
Sep-30 16:25:04.461 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-30 16:25:04.462 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-30 16:25:04.464 [main] DEBUG nextflow.Session - Config process names validation disabled as requested
Sep-30 16:25:04.466 [main] DEBUG nextflow.Session - Igniting dataflow network (40)
Sep-30 16:25:04.467 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > IO_BIDS:IO_READBIDS
Sep-30 16:25:04.467 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PREPROC_T1:PREPROC_N4
Sep-30 16:25:04.467 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PREPROC_T1:IMAGE_RESAMPLE
Sep-30 16:25:04.468 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PREPROC_T1:BETCROP_SYNTHBET
Sep-30 16:25:04.477 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SEGMENTATION_SYNTHSEG
Sep-30 16:25:04.477 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > IMAGE_RESAMPLE
Sep-30 16:25:04.478 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > UTILS_EXTRACTB0
Sep-30 16:25:04.478 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > BETCROP_SYNTHBET
Sep-30 16:25:04.479 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > REGISTRATION_ANTS
Sep-30 16:25:04.479 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > REGISTRATION_ANTSAPPLYTRANSFORMS_mask
Sep-30 16:25:04.479 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > REGISTRATION_ANTSAPPLYTRANSFORMS_wm
Sep-30 16:25:04.479 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RECONST_FREEWATER
Sep-30 16:25:04.480 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RECONST_DTIMETRICS
Sep-30 16:25:04.480 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RECONST_FRF
Sep-30 16:25:04.480 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > RECONST_FODF
Sep-30 16:25:04.481 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > ML_BUNDLEPARC
Sep-30 16:25:04.481 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STATS_METRICSINROI
Sep-30 16:25:04.481 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STATS_VOLUME
Sep-30 16:25:04.486 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_d8c9ca3e118c8f56: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/registration/antsapplytransforms/main.nf
  Script_63b9dbc3649c38a2: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/segmentation/synthseg/main.nf
  Script_2df3063afcf5b530: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/utils/extractb0/main.nf
  Script_477451b44fefee46: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/io_bids/main.nf
  Script_64d732ac746a3ae5: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/preproc_t1/../../../modules/nf-neuro/preproc/n4/main.nf
  Script_37e6f0baa7c7abca: /workspaces/nf-neuro-fitbir/./modules/local/stats/volume/main.nf
  Script_27606586420d23e2: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/image/resample/main.nf
  Script_455dc2f7c946df54: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/preproc_t1/../../../modules/nf-neuro/denoising/nlmeans/main.nf
  Script_ab1e75a7ba90f964: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/io_bids/../../../modules/nf-neuro/io/readbids/main.nf
  Script_cd9b6498b46eb012: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/reconst/freewater/main.nf
  Script_8d73edf138d92a95: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/preproc_t1/main.nf
  Script_3a307ab7730f8b36: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/reconst/dtimetrics/main.nf
  Script_884eed49b4d0380c: /workspaces/nf-neuro-fitbir/main.nf
  Script_cad20a637cdd5f22: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/preproc_t1/../../../modules/nf-neuro/betcrop/antsbet/main.nf
  Script_a99ff76c863126f6: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/betcrop/synthbet/main.nf
  Script_ed001f23f0ab3732: /workspaces/nf-neuro-fitbir/./modules/local/ml/bundleparc/main.nf
  Script_a25ed1e60ea2b10e: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/stats/metricsinroi/main.nf
  Script_ab08d948a9038410: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/reconst/fodf/main.nf
  Script_005e787894fec0fd: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/reconst/frf/main.nf
  Script_3c9bdbc563748e76: /workspaces/nf-neuro-fitbir/./modules/nf-neuro/registration/ants/main.nf
  Script_ba46ce49d4dac46a: /workspaces/nf-neuro-fitbir/./subworkflows/nf-neuro/preproc_t1/../../../modules/nf-neuro/image/cropvolume/main.nf
Sep-30 16:25:04.487 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Sep-30 16:25:04.487 [main] DEBUG nextflow.Session - Session await
Sep-30 16:25:04.609 [Actor Thread 17] INFO  nextflow.processor.TaskProcessor - [38/255d30] Cached process > IO_BIDS:IO_READBIDS (1)
Sep-30 16:25:04.635 [Actor Thread 17] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=60; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Sep-30 16:25:04.691 [Actor Thread 19] INFO  nextflow.processor.TaskProcessor - [ef/2b71ec] Cached process > PREPROC_T1:PREPROC_N4 (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:04.691 [Actor Thread 20] INFO  nextflow.processor.TaskProcessor - [e6/67e76d] Cached process > IMAGE_RESAMPLE (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:04.691 [Actor Thread 18] INFO  nextflow.processor.TaskProcessor - [6e/7e7c4a] Cached process > IMAGE_RESAMPLE (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:04.691 [Actor Thread 15] INFO  nextflow.processor.TaskProcessor - [0e/d2f5a1] Cached process > PREPROC_T1:PREPROC_N4 (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:05.410 [Actor Thread 20] INFO  nextflow.processor.TaskProcessor - [ed/3fc27c] Cached process > PREPROC_T1:IMAGE_RESAMPLE (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:05.410 [Actor Thread 18] INFO  nextflow.processor.TaskProcessor - [51/513a67] Cached process > PREPROC_T1:IMAGE_RESAMPLE (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:05.413 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [71/d2f7c3] Cached process > UTILS_EXTRACTB0 (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:05.413 [Actor Thread 21] INFO  nextflow.processor.TaskProcessor - [b3/3e5918] Cached process > UTILS_EXTRACTB0 (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:05.439 [Actor Thread 9] INFO  nextflow.processor.TaskProcessor - [f0/e2e279] Cached process > BETCROP_SYNTHBET (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:05.441 [Actor Thread 14] INFO  nextflow.processor.TaskProcessor - [fd/2ba723] Cached process > PREPROC_T1:BETCROP_SYNTHBET (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:05.442 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [ec/3e4ace] Cached process > PREPROC_T1:BETCROP_SYNTHBET (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:05.443 [Actor Thread 10] INFO  nextflow.processor.TaskProcessor - [cb/b35f76] Cached process > BETCROP_SYNTHBET (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:05.497 [Actor Thread 16] INFO  nextflow.processor.TaskProcessor - [a9/1f8464] Cached process > REGISTRATION_ANTS (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:05.498 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [b2/a8a39b] Cached process > REGISTRATION_ANTS (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:05.582 [Actor Thread 16] DEBUG nextflow.processor.TaskProcessor - Process REGISTRATION_ANTS > Skipping output binding because one or more optional files are missing: fileoutparam<5:1>
Sep-30 16:25:05.584 [Actor Thread 11] DEBUG nextflow.processor.TaskProcessor - Process REGISTRATION_ANTS > Skipping output binding because one or more optional files are missing: fileoutparam<5:1>
Sep-30 16:25:06.492 [Actor Thread 13] INFO  nextflow.processor.TaskProcessor - [b1/0fc31f] Cached process > SEGMENTATION_SYNTHSEG (sub-TBIRP848DFG_ses-170122)
Sep-30 16:25:06.499 [Actor Thread 13] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<7:1>
Sep-30 16:25:06.499 [Actor Thread 13] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<8:1>
Sep-30 16:25:06.501 [Actor Thread 13] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<9:1>
Sep-30 16:25:06.501 [Actor Thread 20] INFO  nextflow.processor.TaskProcessor - [a0/0a2304] Cached process > SEGMENTATION_SYNTHSEG (sub-TBIHU286ALX_ses-160108)
Sep-30 16:25:06.502 [Actor Thread 13] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<10:1>
Sep-30 16:25:06.505 [Actor Thread 20] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<7:1>
Sep-30 16:25:06.505 [Actor Thread 20] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<8:1>
Sep-30 16:25:06.506 [Actor Thread 20] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<9:1>
Sep-30 16:25:06.507 [Actor Thread 20] DEBUG nextflow.processor.TaskProcessor - Process SEGMENTATION_SYNTHSEG > Skipping output binding because one or more optional files are missing: fileoutparam<10:1>
Sep-30 16:26:12.991 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-30 16:26:12.995 [Task submitter] INFO  nextflow.Session - [b8/62a569] Submitted process > RECONST_FREEWATER (sub-TBIHU286ALX_ses-160108)
Sep-30 16:26:13.049 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [35/3db1be] Cached process > REGISTRATION_ANTSAPPLYTRANSFORMS_wm (sub-TBIHU286ALX_ses-160108)
Sep-30 16:26:13.049 [Actor Thread 14] INFO  nextflow.processor.TaskProcessor - [db/5aac00] Cached process > REGISTRATION_ANTSAPPLYTRANSFORMS_mask (sub-TBIRP848DFG_ses-170122)
Sep-30 16:26:13.049 [Actor Thread 15] INFO  nextflow.processor.TaskProcessor - [b8/b9e16e] Cached process > REGISTRATION_ANTSAPPLYTRANSFORMS_mask (sub-TBIHU286ALX_ses-160108)
Sep-30 16:26:13.050 [Actor Thread 9] INFO  nextflow.processor.TaskProcessor - [50/0c6523] Cached process > REGISTRATION_ANTSAPPLYTRANSFORMS_wm (sub-TBIRP848DFG_ses-170122)
Sep-30 16:26:13.630 [Actor Thread 15] DEBUG nextflow.processor.TaskProcessor - Process REGISTRATION_ANTSAPPLYTRANSFORMS_mask > Skipping output binding because one or more optional files are missing: fileoutparam<1:1>
Sep-30 16:26:13.631 [Actor Thread 11] DEBUG nextflow.processor.TaskProcessor - Process REGISTRATION_ANTSAPPLYTRANSFORMS_wm > Skipping output binding because one or more optional files are missing: fileoutparam<1:1>
Sep-30 16:26:13.631 [Actor Thread 9] DEBUG nextflow.processor.TaskProcessor - Process REGISTRATION_ANTSAPPLYTRANSFORMS_wm > Skipping output binding because one or more optional files are missing: fileoutparam<1:1>
Sep-30 16:26:13.631 [Actor Thread 14] DEBUG nextflow.processor.TaskProcessor - Process REGISTRATION_ANTSAPPLYTRANSFORMS_mask > Skipping output binding because one or more optional files are missing: fileoutparam<1:1>
Sep-30 16:26:13.757 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-30 16:26:13.758 [Task submitter] INFO  nextflow.Session - [21/41e3b2] Submitted process > RECONST_FREEWATER (sub-TBIRP848DFG_ses-170122)
Sep-30 16:26:19.050 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 17; name: RECONST_FREEWATER (sub-TBIHU286ALX_ses-160108); status: COMPLETED; exit: 127; error: -; workDir: /fs5/p_masi/fitbir/example_datasets/example_nextflow/work/b8/62a569a8bd4aa982108406ce93b5b5]
Sep-30 16:26:19.052 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=60; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Sep-30 16:26:19.056 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 14; name: RECONST_FREEWATER (sub-TBIRP848DFG_ses-170122); status: COMPLETED; exit: 127; error: -; workDir: /fs5/p_masi/fitbir/example_datasets/example_nextflow/work/21/41e3b204b9763dedd2256790198f78]
Sep-30 16:26:19.065 [TaskFinalizer-2] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=RECONST_FREEWATER (sub-TBIRP848DFG_ses-170122); work-dir=/fs5/p_masi/fitbir/example_datasets/example_nextflow/work/21/41e3b204b9763dedd2256790198f78
  error [nextflow.exception.ProcessFailedException]: Process `RECONST_FREEWATER (sub-TBIRP848DFG_ses-170122)` terminated with an error exit status (127)
Sep-30 16:26:19.084 [TaskFinalizer-2] ERROR nextflow.processor.TaskProcessor - Error executing process > 'RECONST_FREEWATER (sub-TBIRP848DFG_ses-170122)'

Caused by:
  Process `RECONST_FREEWATER (sub-TBIRP848DFG_ses-170122)` terminated with an error exit status (127)


Command executed:

  echo $PATH
  echo "Here is what is in the folder:"
  ls /workspaces/nf-neuro-fitbir/modules/nf-neuro/reconst/freewater/resources/usr/bin
  echo "That was the content of the folder."
  my_scil_freewater_maps.py sub-TBIRP848DFG_ses-170122_resampled.nii.gz sub-TBIRP848DFG_ses-170122_dwi.bval sub-TBIRP848DFG_ses-170122_dwi.bvec               --processes 4 --b_thr 51         --mask sub-TBIRP848DFG_ses-170122__brain_mask.nii.gz --save_kernels kernels/ 
  
  if [ -z "" ]; then
      mv results/DWI_corrected.nii.gz sub-TBIRP848DFG_ses-170122__dwi_fw_corrected.nii.gz
      mv results/fit_dir.nii.gz sub-TBIRP848DFG_ses-170122__dir.nii.gz
      mv results/fit_FiberVolume.nii.gz sub-TBIRP848DFG_ses-170122__FiberVolume.nii.gz
      mv results/fit_FW.nii.gz sub-TBIRP848DFG_ses-170122__FW.nii.gz
      mv results/fit_NRMSE.nii.gz sub-TBIRP848DFG_ses-170122__NRMSE.nii.gz
  
      rm -rf results
  fi
  
  cat <<-END_VERSIONS > versions.yml
  "RECONST_FREEWATER":
      scilpy: $(uv pip -q -n list | grep scilpy | tr -s ' ' | cut -d' ' -f2)
  END_VERSIONS

Command exit status:
  127

Command output:
  /opt/venvs/scilpy/bin:/opt/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/workspaces/nf-neuro-fitbir/modules/nf-neuro/reconst/freewater/resources/usr/bin
  Here is what is in the folder:
  That was the content of the folder.

Command error:
  /opt/venvs/scilpy/bin:/opt/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/workspaces/nf-neuro-fitbir/modules/nf-neuro/reconst/freewater/resources/usr/bin
  Here is what is in the folder:
  That was the content of the folder.
  .command.sh: line 6: my_scil_freewater_maps.py: command not found

Work dir:
  /fs5/p_masi/fitbir/example_datasets/example_nextflow/work/21/41e3b204b9763dedd2256790198f78

Container:
  docker.io/scilus/scilpy:2.2.0_cpu

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Sep-30 16:26:19.086 [TaskFinalizer-1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=RECONST_FREEWATER (sub-TBIHU286ALX_ses-160108); work-dir=/fs5/p_masi/fitbir/example_datasets/example_nextflow/work/b8/62a569a8bd4aa982108406ce93b5b5
  error [nextflow.exception.ProcessFailedException]: Process `RECONST_FREEWATER (sub-TBIHU286ALX_ses-160108)` terminated with an error exit status (127)
Sep-30 16:26:19.089 [TaskFinalizer-2] INFO  nextflow.Session - Execution cancelled -- Finishing pending tasks before exit
Sep-30 16:26:19.093 [main] DEBUG nextflow.Session - Session await > all processes finished
Sep-30 16:26:21.464 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Sep-30 16:26:21.464 [main] DEBUG nextflow.Session - Session await > all barriers passed
Sep-30 16:26:21.469 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'TaskFinalizer' shutdown completed (hard=false)
Sep-30 16:26:25.184 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'PublishDir' shutdown completed (hard=false)
Sep-30 16:26:25.188 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=2; ignoredCount=0; cachedCount=21; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=43.8s; cachedDuration=5h 51m 48s;loadCpus=0; loadMemory=0; peakRunning=2; peakCpus=8; peakMemory=16 GB; ]
Sep-30 16:26:25.188 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow completed -- saving trace file
Sep-30 16:26:25.194 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Sep-30 16:26:25.763 [main] DEBUG nextflow.trace.TimelineObserver - Workflow completed -- rendering execution timeline
Sep-30 16:26:26.087 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Sep-30 16:26:26.142 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'FileTransfer' shutdown completed (hard=false)
Sep-30 16:26:26.143 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
